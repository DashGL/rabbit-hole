---
import Story from "@layouts/Story.astro";
import { Image } from "astro:assets";

import placeholder from "@assets/scenes/placeholder.png";
import start from "@assets/scenes/T2_Start.jpeg";
import end from "@assets/scenes/T2_End.jpeg";

import Dashie from "@components/Dashie.astro";
import Kion from "@components/Kion.astro";

const images: string[] = [];
for (let i = 0; i < 11; i++) {
    const num = (i+1).toString().padStart(2, "0");
    images.push(`/storyboard/Snake-${num}.png`);
}
---

<Story>
    <Image
        class="rounded-lg"
        src={start}
        alt="Kion falls into the Digital World"
    />
    <h1>Snake</h1>

    <h2>Story</h2>
    <p>
        Dashie: <Dashie>This is my line</Dashie>
    </p>
    <p>
        Kion: <Kion>This is my line</Kion>
    </p>

    <h2>Concept</h2>
    <Image
        class="rounded-lg"
        src={placeholder}
        alt="Title screen for brickout game with SDL on linux"
    />

    <h2>Program</h2>

    <ol>
        <li>
            <strong>Setting Up Your Development Environment</strong>
            <img src={images[0]}/>
            <ul>
                <li>Install necessary tools (SDL, OpenGL, etc.).</li>
                <li>Set up a project directory.</li>
            </ul>
        </li>
        <li>
            <strong>Creating a Window with SDL</strong>
            <img src={images[1]}/>
            <ul>
                <li>Initialize SDL.</li>
                <li>Create a window and renderer.</li>
            </ul>
        </li>
        <li>
            <strong>Setting Up OpenGL for 2D Rendering</strong>
            <img src={images[3]}/>
            <ul>
                <li>Initialize OpenGL context.</li>
                <li>Set up viewport and projection.</li>
            </ul>
        </li>
        <li>
            <strong>Loading Game Assets</strong>
            <img src={images[4]}/>
            <ul>
                <li>Load images for the snake, food, and background.</li>
                <li>Set up texture loading with SDL.</li>
            </ul>
        </li>
        <li>
            <strong>Creating the Title Screen</strong>
            <img src={images[5]}/>
            <ul>
                <li>Display a title graphic.</li>
                <li>Implement a start button.</li>
            </ul>
        </li>
        <li>
            <strong>Implementing the Game Loop</strong>
            <img src={images[6]}/>
            <ul>
                <li>Handle user input (arrow keys for movement).</li>
                <li>Update the snake's position.</li>
                <li>Check for collisions (with walls and food).</li>
            </ul>
        </li>
        <li>
            <strong>Rendering the Game</strong>
            <img src={images[7]}/>
            <ul>
                <li>Render the snake and food.</li>
                <li>Draw the game area background.</li>
            </ul>
        </li>
        <li>
            <strong>Adding Game Logic</strong>
            <img src={images[8]}/>
            <ul>
                <li>Manage the snake's growth and movement.</li>
                <li>Generate new food when eaten.</li>
            </ul>
        </li>
        <li>
            <strong>Creating Success and Game Over Screens</strong>
            <img src={images[9]}/>
            <ul>
                <li>Detect when the snake hits a wall or itself.</li>
                <li>Display a game over message with score.</li>
                <li>Implement a restart button.</li>
            </ul>
        </li>
        <li>
            <strong>Cleaning Up and Exiting</strong>
            <img src={images[10]}/>
            <ul>
                <li>Free resources and close SDL.</li>
                <li>Provide an option to quit the game.</li>
            </ul>
        </li>
    </ol>

    <Image
        class="rounded-lg"
        src={end}
        alt="Kion falls into the Digital World"
    />
</Story>
